<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrade Daniel; Morocho Nathalia">

<title>Taller_Aprendizaje_Estadístico</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Resumen_2_Andrade_Morocho_files/libs/clipboard/clipboard.min.js"></script>
<script src="Resumen_2_Andrade_Morocho_files/libs/quarto-html/quarto.js"></script>
<script src="Resumen_2_Andrade_Morocho_files/libs/quarto-html/popper.min.js"></script>
<script src="Resumen_2_Andrade_Morocho_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Resumen_2_Andrade_Morocho_files/libs/quarto-html/anchor.min.js"></script>
<link href="Resumen_2_Andrade_Morocho_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Resumen_2_Andrade_Morocho_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Resumen_2_Andrade_Morocho_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Resumen_2_Andrade_Morocho_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Resumen_2_Andrade_Morocho_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Taller_Aprendizaje_Estadístico</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrade Daniel; Morocho Nathalia </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="aprendizaje-estadístico" class="level1">
<h1>Aprendizaje Estadístico</h1>
<p>El uso del aprendizaje estadístico en la investigación de la relación entre la publicidad y las ventas de un producto en 200 mercados diferentes. Se cuenta con datos sobre las ventas y los presupuestos de publicidad del producto en cada mercado para tres medios diferentes: televisión, radio y periódicos. Siendo el objetivo de desarrollar un modelo preciso que pueda predecir las ventas de un producto en función de los presupuestos de publicidad en televisión, radio y periódicos. Los presupuestos son las variables de entrada (denotadas como X1, X2 y X3) mientras que las ventas son la variable de salida (denotada como Y). En el texto se explican algunos términos utilizados en estadística para referirse a estas variables, como predictores, variables independientes, características, variables de entrada, respuesta y variable dependiente.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/publicidad.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ejemplo datos de publicidad</figcaption><p></p>
</figure>
</div>
<p>En la figura anterior muestra el conjunto de datos de publicidad. La gráfica muestra las ventas, en miles de unidades, en función de los presupuestos de televisión, radio y periódicos, en miles de dólares, para 200 mercados diferentes. En cada gráfico, mostramos el ajuste de mínimos cuadrados simple de las ventas a esa variable, como se describe en el Capítulo 3. En otras palabras, cada línea azul representa un modelo simple que se puede usar para predecir las ventas utilizando la televisión, la radio y el periódico, respectivamente.</p>
<p>De forma más general, supongamos que observamos una respuesta cuantitativa “Y” y “p” diferentes predictores, X1, X2,...,Xp. Suponemos que existe alguna relación entre “Y” y” X” = (X1, X2,...,Xp), que se puede escribir en la forma muy general.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/funcion_1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Función forma general</figcaption><p></p>
</figure>
</div>
<p>Aquí f es una función fija pero desconocida de X1,..., Xp, y es un término de error aleatorio, que es independiente de X y tiene media cero. En esta formulación, f representa la información sistemática que proporciona X sobre Y.</p>
<section id="por-qué-estimar-f" class="level3">
<h3 class="anchored" data-anchor-id="por-qué-estimar-f">¿Por qué estimar f?</h3>
<p>Hay dos razones principales por las que podemos desear estimar f: predicción e inferencia. Discutimos cada uno en su turno.</p>
</section>
<section id="predicción" class="level3">
<h3 class="anchored" data-anchor-id="predicción">Predicción</h3>
<p>En muchas situaciones, un conjunto de entradas X está fácilmente disponible, pero la salida Y no se puede obtener fácilmente. En esta configuración, dado que el término de error promedia cero, podemos predecir Y usando:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/funcion_2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Fórmula general</figcaption><p></p>
</figure>
</div>
<p>donde ˆf representa nuestra estimación para f, e Yˆ representa la predicción resultante para Y. En este contexto, ˆf a menudo se trata como una caja negra, en el sentido de que uno no suele preocuparse por la forma exacta de ˆf, siempre que produzca predicciones precisas para Y.</p>
</section>
<section id="inferencia" class="level3">
<h3 class="anchored" data-anchor-id="inferencia">Inferencia</h3>
<p>A menudo nos interesa comprender la asociación entre Y y X1,…,Xp. En esta situación deseamos estimar f, pero nuestro objetivo no es necesariamente hacer predicciones para Y. Ahora ˆf no se puede tratar como una caja negra, porque necesitamos saber su forma exacta. En este escenario, uno puede estar interesado en responder a las siguientes preguntas:</p>
<p>_ ¿Qué predictores están asociados con la respuesta? A menudo sucede que solo una pequeña fracción de los predictores disponibles están sustancialmente asociados con Y. La identificación de los pocos predictores importantes entre un gran conjunto de posibles variables puede ser extremadamente útil, según la aplicación.</p>
<p>_ ¿Cuál es la relación entre la respuesta y cada predictor? Algunos predictores pueden tener una relación positiva con Y, ya que los valores más grandes del predictor están asociados con valores más grandes de Y. Otros predictores pueden tener la relación opuesta. Dependiendo de la complejidad de f, la relación entre la respuesta y un predictor dado también puede depender de los valores de los otros predictores.</p>
<p>_ ¿Se puede resumir adecuadamente la relación entre Y y cada predictor usando una ecuación lineal, o la relación es más complicada? Históricamente, la mayoría de los métodos para estimar f han adoptado una forma lineal. En algunas situaciones, tal suposición es razonable o incluso deseable. Pero a menudo la verdadera relación es más complicada, en cuyo caso un modelo lineal puede no proporcionar una representación precisa de la relación entre las variables de entrada y sal</p>
</section>
<section id="cómo-estimamos-f" class="level3">
<h3 class="anchored" data-anchor-id="cómo-estimamos-f">¿Cómo estimamos f?</h3>
<p>En el libro se exploran diversos enfoques lineales y no lineales para estimar f, y se describen las características compartidas de estos métodos. Se supone que se han observado n puntos de datos diferentes y se necesita un procedimiento para ajustar el modelo seleccionado utilizando los datos de entrenamiento. El enfoque más común es el de mínimos cuadrados, pero también se discuten otros enfoques en el libro. Los datos de entrenamiento consisten en observaciones de los predictores y la variable de respuesta, y se utilizan para entrenar el método de estimación de f.&nbsp;Entonces, nuestros datos de entrenamiento consisten en {(x1, y1),(x2, y2),…,(xn, yn)} donde xi = (xi1, xi2,…,xip)T .</p>
<p>Nuestro objetivo es aplicar un método de aprendizaje estadístico a los datos de entrenamiento para estimar la función desconocida f.&nbsp;En otras palabras, queremos encontrar una función ˆf tal que Y ≈ ˆf(X) para cualquier observación (X, Y). En términos generales, la mayoría de los métodos de aprendizaje estadístico para esta tarea se pueden caracterizar como paramétricos o no paramétricos. Ahora discutiremos brevemente estos dos tipos de enfoques.</p>
</section>
<section id="métodos-paramétricos" class="level3">
<h3 class="anchored" data-anchor-id="métodos-paramétricos">Métodos paramétricos</h3>
<p>Los métodos paramétricos implican un enfoque basado en modelos de dos pasos.</p>
<ol type="1">
<li>Primero, hacemos una suposición acerca de la forma funcional, o forma, de f.</li>
<li>Después de seleccionar un modelo, necesitamos un procedimiento que use los datos de entrenamiento para ajustar o entrenar el modelo</li>
</ol>
<p>El enfoque basado en modelos que se acaba de describir se conoce como paramétrico; reduce el problema de estimar f a uno de estimar un conjunto de parámetros. Asumir una forma paramétrica para f simplifica el problema de estimar f porque generalmente es mucho más fácil estimar un conjunto de parámetros, como β0, β1,…, βp en el modelo lineal.</p>
<p>Dado que hemos asumido una relación lineal entre la respuesta y los dos predictores, todo el problema de ajuste se reduce a estimar β0, β1 y β2, lo que hacemos usando la regresión lineal de mínimos cuadrados. Comparando la Figura 2.3 con la Figura 2.4, podemos ver que el ajuste lineal dado en la Figura 2.4 no es del todo correcto: la verdadera f tiene alguna curvatura que no se captura en el ajuste lineal.</p>
</section>
<section id="métodos-no-paramétricos" class="level3">
<h3 class="anchored" data-anchor-id="métodos-no-paramétricos">Métodos no paramétricos</h3>
<p>Los métodos no paramétricos no hacen suposiciones explícitas sobre la forma funcional de f.&nbsp;En su lugar, buscan una estimación de f que se acerque lo más posible a los puntos de datos sin ser demasiado tosco o ondulado. Dichos enfoques pueden tener una gran ventaja sobre los enfoques paramétricos: al evitar la suposición de una forma funcional particular para f, tienen el potencial de adaptarse con precisión a una gama más amplia de formas posibles para f.&nbsp;Cualquier enfoque paramétrico trae consigo la posibilidad de que la forma funcional utilizada para estimar f sea muy diferente de la verdadera f, en cuyo caso el modelo resultante no se ajustará bien a los datos. Por el contrario, los enfoques no paramétricos evitan por completo este peligro, ya que esencialmente no se hace ninguna suposición sobre la forma de f.&nbsp;Pero los enfoques no paramétricos tienen una gran desventaja: dado que no reducen el problema de estimar f a un pequeño número de parámetros, se requiere una gran cantidad de observaciones (mucho más de lo que normalmente se necesita para un enfoque paramétrico) en para obtener una estimación precisa de f.</p>
</section>
<section id="la-compensación-entre-la-precisión-de-la-predicción-y-la-interpretabilidad-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="la-compensación-entre-la-precisión-de-la-predicción-y-la-interpretabilidad-del-modelo">La compensación entre la precisión de la predicción y la interpretabilidad del modelo</h3>
<p>La regresión lineal es un enfoque relativamente inflexible, porque solo puede generar funciones lineales</p>
</section>
<section id="aprendizaje-supervisado-versus-no-supervisado" class="level3">
<h3 class="anchored" data-anchor-id="aprendizaje-supervisado-versus-no-supervisado">Aprendizaje supervisado versus no supervisado</h3>
<p>En este texto se discute sobre las dos categorías principales de problemas en el aprendizaje estadístico: supervisado y no supervisado. Se explica que el aprendizaje supervisado es aquel en el que para cada observación de las medidas predictivas, hay una medida de respuesta asociada, y se desea ajustar un modelo que relacione la respuesta con los predictores para predecir o comprender la relación entre ellos. Los métodos clásicos y modernos como la regresión lineal, regresión logística, GAM, boosting y máquinas de vectores de soporte operan en este dominio. Por otro lado, el aprendizaje no supervisado es aquel en el que para cada observación se tienen las medidas predictivas, pero no se cuenta con una medida de respuesta asociada, lo que hace más desafiante el análisis. En este escenario, se busca comprender las relaciones entre las variables o entre las observaciones. Métodos como el análisis de componentes principales y el clustering son herramientas de aprendizaje estadístico que se pueden usar.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/entrenamiento.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Muestra del entrenamiento de datos</figcaption><p></p>
</figure>
</div>
<p>Este texto explica que, en el aprendizaje no supervisado, el análisis de conglomerados o agrupamiento es una herramienta para determinar si las observaciones pertenecen a grupos relativamente distintos en función de sus características o variables medidas. Se utiliza como ejemplo un estudio de segmentación de mercado en el que se pueden observar múltiples características de los clientes potenciales, pero la información sobre los patrones de gasto de cada cliente no está disponible para realizar un análisis supervisado. En este caso, se puede intentar agrupar a los clientes potenciales en diferentes grupos basados en sus características, con el fin de identificar distintos grupos de clientes potenciales que puedan diferir con respecto a alguna propiedad de interés, como los hábitos de consumo.</p>
</section>
<section id="problemas-de-regresión-versus-clasificación" class="level3">
<h3 class="anchored" data-anchor-id="problemas-de-regresión-versus-clasificación">Problemas de regresión versus clasificación</h3>
<p>(KNN) y árboles de decisión, se utilizan tanto para problemas de regresión como de clasificación, lo que significa que pueden manejar respuestas tanto cuantitativas como cualitativas. La distinción entre variables cuantitativas y cualitativas es importante porque influye en la elección de los métodos estadísticos adecuados para analizar los datos y resolver problemas de investigación. Sin embargo, la línea que separa las variables cuantitativas y cualitativas a veces puede ser difusa, y algunos métodos estadísticos pueden utilizarse para ambos tipos de variables.</p>
</section>
<section id="evaluación-de-la-precisión-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="evaluación-de-la-precisión-del-modelo">Evaluación de la precisión del modelo</h3>
<p>El libro presenta una amplia gama de métodos de aprendizaje estadístico en lugar de un único método óptimo, ya que ningún método domina a todos los demás en todos los conjuntos de datos posibles. Es importante seleccionar el mejor enfoque para un conjunto de datos específico, lo que puede ser desafiante en la práctica. En esta sección, se discuten algunos de los conceptos importantes para seleccionar un procedimiento de aprendizaje estadístico, los cuales serán aplicados en la práctica a medida que avance el libro.</p>
</section>
<section id="medición-de-la-calidad-del-ajuste" class="level3">
<h3 class="anchored" data-anchor-id="medición-de-la-calidad-del-ajuste">Medición de la calidad del ajuste</h3>
<p>Para evaluar el rendimiento de un método de aprendizaje estadístico en un conjunto de datos dado, necesitamos alguna forma de medir qué tan bien sus predicciones coinciden realmente con los datos observados. Es decir, necesitamos cuantificar hasta qué punto el valor de respuesta pronosticado para una observación determinada se acerca al valor de respuesta real para esa observación. En el entorno de regresión, la medida más utilizada es el error cuadrático medio (MSE), dado por:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/MSE.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Fórmula para encontrar el error cuadrático medio</figcaption><p></p>
</figure>
</div>
<p>donde ˆf(xi) es la predicción que da ˆf para la i-énesima observación. El MSE será pequeño si las respuestas predichas están muy cerca de las respuestas verdaderas, la importancia de evaluar la precisión de un modelo de aprendizaje estadístico en datos de prueba nunca antes vistos en lugar de solo en los datos de entrenamiento utilizados para ajustar el modelo. Se argumenta que lo que realmente importa en la práctica es la precisión de las predicciones para nuevos datos y ejemplos. Se ilustra este punto con dos ejemplos: el primero es la predicción del precio futuro de las acciones, donde es importante que el modelo haga buenas predicciones para nuevos datos, y no solo para datos de entrenamiento históricos. El segundo ejemplo es la predicción del riesgo de diabetes basado en mediciones clínicas, donde es importante que el modelo haga buenas predicciones para nuevos pacientes, y no solo para aquellos utilizados en el entrenamiento del modelo.</p>
</section>
<section id="la-compensación-entre-sesgo-y-varianza" class="level3">
<h3 class="anchored" data-anchor-id="la-compensación-entre-sesgo-y-varianza">La compensación entre sesgo y varianza</h3>
<p>Forma de U observada en las curvas MSE de prueba (figuras 2.9 a 2.11) resulta ser el resultado de dos propiedades contrapuestas de los métodos de aprendizaje estadístico. En la práctica, normalmente se puede calcular el MSE de entrenamiento con relativa facilidad, pero estimar el MSE de prueba es considerablemente más difícil porque normalmente no hay datos de prueba disponibles. Como ilustran los tres ejemplos anteriores, el nivel de flexibilidad correspondiente al modelo con el MSE de prueba mínimo puede variar considerablemente entre los conjuntos de datos. A lo largo de este libro, analizamos una variedad de enfoques que se pueden usar en la práctica para estimar este punto mínimo. Un método importante es la validación cruzada (Capítulo 5), que es un método para estimar el MSE de prueba usando los datos de entrenamiento. Aunque la prueba matemática está más allá del alcance de este libro, es posible demostrar que el MSE de prueba esperado, para un valor x0 dado, siempre se puede descomponer en la suma de tres cantidades fundamentales: la varianza de ˆf(x0), la sesgo al cuadrado de ˆf(x0) y la varianza del error;</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/statical.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Forma gráfica de la aplicación estadística</figcaption><p></p>
</figure>
</div>
</section>
<section id="la-configuración-de-clasificación" class="level3">
<h3 class="anchored" data-anchor-id="la-configuración-de-clasificación">La configuración de clasificación</h3>
<p>Hasta ahora, nuestra discusión sobre la precisión del modelo se ha centrado en el escenario de regresión. Pero muchos de los conceptos que hemos encontrado, como el equilibrio entre sesgo y varianza, se transfieren al entorno de clasificación con solo algunas modificaciones debido al hecho de que yi ya no es cuantitativo. Suponga que buscamos estimar f sobre la base de observaciones de entrenamiento {(x1, y1),…,(xn, yn)}, donde ahora y1,…,yn son cualitativas. El enfoque más común para cuantificar la precisión de nuestra estimación ˆf es la tasa de error de entrenamiento, la proporción de errores que se cometen si aplicamos nuestra estimación ˆf a las observaciones de entrenamiento:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clasificacion.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Configuración de la clasificación</figcaption><p></p>
</figure>
</div>
<p>Aquí ˆyi es la etiqueta de clase predicha para la i-ésima observación usando ˆf. Y I(yi = ˆyi) es una variable indicadora que es igual a 1 si yi = ˆyi y cero si yi = ˆyi. Si I(yi = ˆyi) = 0 entonces la i-ésima observación fue clasificada correctamente por nuestro método de clasificación; de lo contrario, se clasificó incorrectamente. Por lo tanto, la Ecuación 2.8 calcula la fracción de clasificaciones incorrectas.</p>
<p>La ecuación 2.8 se denomina tasa de error de entrenamiento porque se calcula con base en los datos que se usaron para entrenar nuestro clasificador. Al igual que en la configuración de regresión, estamos más interesados en las tasas de error que resultan de aplicar nuestro clasificador para probar observaciones que no se usaron en el entrenamiento.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/28ecuacion.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ecuación 2.8</figcaption><p></p>
</figure>
</div>
<p>donde ˆy0 es la etiqueta de clase pronosticada que resulta de aplicar el clasificador a la observación de prueba con predictor x0. Un buen clasificador es aquel cuyo error de prueba (2.9) es mínimo.</p>
</section>
<section id="el-clasificador-bayesiano" class="level3">
<h3 class="anchored" data-anchor-id="el-clasificador-bayesiano">El clasificador bayesiano</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bayes.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Esquema de un clasificador bayesiano con un conjunto de datos</figcaption><p></p>
</figure>
</div>
<p>Un conjunto de datos simulados que consta de 100 observaciones en cada uno de los dos grupos, indicados en azul y naranja. La línea discontinua púrpura representa el límite de decisión de Bayes. La cuadrícula de fondo naranja indica la región en la que se asignará una observación de prueba a la clase naranja, y la cuadrícula de fondo azul indica la región en la que se asignará una observación de prueba a la clase azul.</p>
<p>La figura anterior proporciona un ejemplo que utiliza un conjunto de datos simulados en un espacio bidimensional que consta de los predictores X1 y X2. Los círculos naranja y azul corresponden a observaciones de entrenamiento que pertenecen a dos clases diferentes. Para cada valor de X1 y X2, existe una probabilidad diferente de que la respuesta sea naranja o azul. Dado que se trata de datos simulados, sabemos cómo se generaron los datos y podemos calcular las probabilidades condicionales para cada valor de X1 y X2. La región sombreada en naranja refleja el conjunto de puntos para los que Pr(Y = naranja|X) es superior al 50 %, mientras que la región sombreada en azul indica el conjunto de puntos para los que la probabilidad es inferior al 50 %. La línea discontinua morada representa los puntos donde la probabilidad es exactamente del 50 %. Esto se llama el límite de decisión de Bayes. La predicción del clasificador de Bayes está determinada por el límite de decisión de Bayes; una observación que cae en el lado naranja del límite se asignará a la clase naranja y, de manera similar, una observación en el lado azul del límite se asignará a la clase azul.</p>
</section>
<section id="k-vecinos-más-cercanos" class="level3">
<h3 class="anchored" data-anchor-id="k-vecinos-más-cercanos">K-vecinos más cercanos</h3>
<p>En teoría, siempre nos gustaría predecir respuestas cualitativas utilizando el clasificador de Bayes. Pero para datos reales, no conocemos la distribución condicional de Y dada X, por lo que calcular el clasificador de Bayes es imposible. Por lo tanto, el clasificador de Bayes sirve como un estándar de oro inalcanzable contra el cual comparar otros métodos. Muchos enfoques intentan estimar la distribución condicional de Y dada X y luego clasifican una observación dada en la clase con la probabilidad estimada más alta. Uno de estos métodos es el clasificador K-vecinos más cercanos (KNN). Dado un entero positivo K y una observación de prueba x0, el clasificador KNN primero identifica los puntos K en los datos de entrenamiento que están más cerca de x0, representados por N0.</p>
<p>Luego estima la probabilidad condicional para la clase j como la fracción de puntos en N0 cuyos valores de respuesta son iguales a j:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/propcondicional.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ecuación probabilidad condicional</figcaption><p></p>
</figure>
</div>
<p>En el panel de la izquierda, hemos trazado un pequeño conjunto de datos de entrenamiento que consta de seis observaciones azules y seis naranjas. Nuestro objetivo es hacer una predicción para el punto marcado con la cruz negra. Supongamos que elegimos K = 3. Luego, KNN primero identificará las tres observaciones que están más cerca de la cruz.</p>
<p>Este vecindario se muestra como un círculo. Consta de dos puntos azules y un punto naranja, lo que da como resultado probabilidades estimadas de 2/3 para la clase azul y 1/3 para la clase naranja. Por lo tanto, KNN predecirá que la cruz negra pertenece a la clase azul. En el panel de la derecha de la figura 2.14, hemos aplicado el enfoque KNN con K = 3 en todos los valores posibles para X1 y X2, y hemos dibujado el límite de decisión KNN correspondiente.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ejevecin.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Diagrama ejemplificación</figcaption><p></p>
</figure>
</div>
<p>El enfoque KNN, usando K = 3, se ilustra en una situación simple con seis observaciones azules y seis observaciones naranjas. Izquierda: una observación de prueba en la que se desea una etiqueta de clase predicha se muestra como una cruz negra. Se identifican los tres puntos más cercanos a la observación de prueba y se predice que la observación de prueba pertenece a la clase que ocurre con más frecuencia, en este caso azul. Derecha: El límite de decisión de KNN para este ejemplo se muestra en negro. La cuadrícula azul indica la región en la que se asignará una observación de prueba a la clase azul, y la cuadrícula naranja indica la región en la que se asignará a la clase naranja.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/KNNeje.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Para ejemplificar KNN</figcaption><p></p>
</figure>
</div>
<p>La curva negra indica el límite de decisión de KNN en los datos de la Figura 2.13, usando K = 10. El límite de decisión de Bayes se muestra como una línea discontinua púrpura. Los límites de decisión de KNN y Bayes son muy similares.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/KNNeje2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Diagrama con cambio de los límites de decisión</figcaption><p></p>
</figure>
</div>
<p>Una comparación de los límites de decisión de KNN (curvas negras continuas) obtenidas usando K = 1 y K = 100 en los datos de la Figura 2.13. Con K = 1, el límite de decisión es demasiado flexible, mientras que con K = 100 no es lo suficientemente flexible. El límite de decisión de Bayes se muestra como una línea discontinua púrpura.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/comparacionKNN.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Diagrama de comparación de las decisión para la obtención de KKN</figcaption><p></p>
</figure>
</div>
<p>La tasa de error de entrenamiento KNN (azul, 200 observaciones) y la tasa de error de prueba (naranja, 5000 observaciones) en los datos de la Figura 2.13, a medida que aumenta el nivel de flexibilidad (evaluado usando 1/K en la escala logarítmica), o de manera equivalente a medida que aumenta el número de vecinos K disminuye. La línea discontinua negra indica la tasa de error de Bayes. El salto de las curvas se debe al pequeño tamaño del conjunto de datos de entrenamiento.</p>
</section>
</section>
<section id="regresión-lineal" class="level1">
<h1>Regresión Lineal</h1>
<p>El capítulo trata sobre la regresión lineal como un enfoque simple pero útil para el aprendizaje supervisado y la predicción de respuestas cuantitativas. Aunque puede parecer aburrido en comparación con enfoques más modernos, sigue siendo ampliamente utilizado y sirve como punto de partida para enfoques más complejos. El capítulo revisa las ideas clave detrás del modelo de regresión lineal y el enfoque de mínimos cuadrados utilizado para ajustar el modelo. Se presenta un ejemplo de datos de publicidad y se sugieren algunas preguntas importantes que podrían abordarse con la ayuda de la regresión lineal para informar una recomendación de plan de marketing.</p>
<section id="regresión-lineal-simple" class="level3">
<h3 class="anchored" data-anchor-id="regresión-lineal-simple">Regresión lineal simple</h3>
<p>La regresión lineal simple hace honor a su nombre: es un método muy directo enfoque para predecir una respuesta cuantitativa Y sobre la base de una única variable predictora X. Supone que existe una relación aproximadamente lineal entre X e Y. Matemáticamente, podemos escribir esta relación lineal como:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/relacionlineal.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ecuación de la fórmula general de regresión lineal</figcaption><p></p>
</figure>
</div>
<p>Puede leer “≈” como “se modela aproximadamente como”. Algunas veces describiremos diciendo que estamos retrocediendo Y sobre X (o Y sobre X).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ecuacioncomo.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ecuación de regresión lineal en el que se aproxima el resultado</figcaption><p></p>
</figure>
</div>
<p>En la Ecuación anterior, β0 y β1 son dos constantes desconocidas que representan los términos de intersección y pendiente en el modelo lineal. Juntos, β0 y β1 se conocen como los coeficientes o parámetros del modelo. Una vez que hayamos utilizado nuestros datos de entrenamiento para producir estimaciones βˆ0 y βˆ1 para los coeficientes del modelo, podemos predecir las ventas futuras sobre la base de un valor particular de la publicidad televisiva calculando.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/calculo.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ecuación para una predicción</figcaption><p></p>
</figure>
</div>
<p>donde ˆy indica una predicción de Y sobre la base de X = x. Aquí usamos a para denotar el ˆ o coeficiente, o valor estimado para un símbolo de sombrero de parámetro desconocido, para denotar el valor predicho de la respuesta.</p>
</section>
<section id="estimación-de-los-coeficientes" class="level3">
<h3 class="anchored" data-anchor-id="estimación-de-los-coeficientes">Estimación de los coeficientes</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pares.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Identificación de n pares de observación</figcaption><p></p>
</figure>
</div>
<p>Representan n pares de observación, cada uno de los cuales consta de una medida de X y una medida de Y. En el ejemplo de publicidad, este conjunto de datos consta del presupuesto de publicidad televisiva y las ventas de productos en n = 200 mercados diferentes. (Recuerde que los datos se muestran en la Figura 2.1.) Nuestro objetivo es obtener estimaciones de los coeficientes βˆ0 y βˆ1 de modo que el modelo lineal (3.1) se ajuste bien a los datos disponibles, es decir, de modo que yi ≈ βˆ0 + βˆ1xi para i = 1 ,…,norte. En otras palabras, queremos encontrar una intersección βˆ0 y una pendiente βˆ1 tal que la línea resultante esté lo más cerca posible de los n = 200 puntos de datos. Y ≈ β0 + β1X. Hay varias formas de medir la cercanía. Sin embargo, con mucho, el enfoque más común consiste en minimizar el criterio de los mínimos cuadrados, y adoptaremos ese enfoque en este capítulo.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regresion.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Diagrama de ejemplificación de una regresión lineal</figcaption><p></p>
</figure>
</div>
<p>Para los datos de Publicidad, se muestra el ajuste de mínimos cuadrados para la regresión de ventas en TV. El ajuste se obtiene minimizando la suma residual de cuadrados. Cada segmento de línea gris representa un residuo. En este caso, un ajuste lineal captura la esencia de la relación, aunque sobrestima la tendencia a la izquierda de la gráfica.</p>
</section>
<section id="evaluación-de-la-precisión-de-las-estimaciones-del-coeficiente" class="level3">
<h3 class="anchored" data-anchor-id="evaluación-de-la-precisión-de-las-estimaciones-del-coeficiente"><strong>Evaluación de la precisión de las estimaciones del coeficiente</strong></h3>
<p>Se utilizan modelos para explicar la relación entre dos o más variables. Estos modelos a menudo incluyen coeficientes que representan el grado de influencia que tiene cada variable en la relación. La estimación de los coeficientes se basa en los datos de muestra disponibles, y cuanto más precisos sean los estimados, más confiable será el modelo.</p>
<p>La evaluación de la precisión de las estimaciones del coeficiente implica una serie de técnicas estadísticas para evaluar la calidad de las estimaciones. Estas técnicas incluyen el cálculo del error estándar, la construcción de intervalos de confianza, el análisis de la significancia estadística y la validación del modelo.</p>
</section>
<section id="evaluación-de-la-precisión-del-modelo-1" class="level3">
<h3 class="anchored" data-anchor-id="evaluación-de-la-precisión-del-modelo-1"><strong>Evaluación de la precisión del modelo</strong></h3>
<p>La evaluación de la precisión del modelo es un proceso mediante el cual se mide la capacidad de un modelo estadístico o de aprendizaje automático para hacer predicciones precisas en datos no vistos. El objetivo de construir un modelo es generalmente hacer predicciones precisas sobre datos nuevos, por lo que la evaluación de la precisión del modelo es una parte crítica del proceso de construcción de modelos. La evaluación de la precisión del modelo se realiza utilizando datos que no se utilizaron para entrenar el modelo.</p>
</section>
<section id="estadística-r2" class="level3">
<h3 class="anchored" data-anchor-id="estadística-r2"><strong>Estadística R2</strong></h3>
<p>La estadística R2, también conocida como coeficiente de determinación, es una medida de la proporción de la varianza de la variable dependiente en un modelo estadístico que se explica por las variables independientes. En otras palabras, es una medida de cuánto mejor es el modelo en comparación con el uso de la media de la variable dependiente como predictor.</p>
<p>El coeficiente R2 varía entre 0 y 1, donde 0 indica que el modelo no explica nada de la variabilidad en la variable dependiente, mientras que 1 indica que el modelo explica toda la variabilidad en la variable dependiente. Por ejemplo, si R2 es 0.8, significa que el modelo explica el 80% de la variabilidad en la variable dependiente.</p>
</section>
<section id="regresión-lineal-múltiple" class="level3">
<h3 class="anchored" data-anchor-id="regresión-lineal-múltiple"><strong>Regresión lineal múltiple</strong></h3>
<p>La regresión lineal múltiple es un método estadístico utilizado para analizar la relación entre una variable dependiente y dos o más variables independientes. En este tipo de regresión, se ajusta una línea recta o un plano a los datos para modelar la relación entre las variables.</p>
<p>En la regresión lineal múltiple, se asume que la variable dependiente está relacionada linealmente con cada una de las variables independientes, y el objetivo es encontrar los coeficientes que mejor describen esta relación. Los coeficientes representan la cantidad de cambio en la variable dependiente que se espera cuando se produce un cambio unitario en cada una de las variables independientes, manteniendo las otras variables constantes.</p>
<p>La ecuación general de la regresión lineal múltiple es:</p>
<p>y = β0 + β1x1 + β2x2 + ... + βpxp + ε</p>
<p>Donde:</p>
<ul>
<li><p>y es la variable dependiente.</p></li>
<li><p>β0 es la intersección o el valor de y cuando todas las variables independientes son cero.</p></li>
<li><p>β1, β2, ..., βp son los coeficientes de las variables independientes x1, x2, ..., xp, respectivamente.</p></li>
<li><p>ε es el error o la diferencia entre el valor observado de y y el valor predicho por el modelo.</p></li>
</ul>
<p>Para ajustar un modelo de regresión lineal múltiple, se utilizan técnicas estadísticas para encontrar los valores óptimos de los coeficientes que minimizan el error residual. Una vez ajustado el modelo, se pueden hacer predicciones sobre la variable dependiente para nuevos valores de las variables independientes.</p>
</section>
<section id="estimación-de-los-coeficientes-de-regresión" class="level3">
<h3 class="anchored" data-anchor-id="estimación-de-los-coeficientes-de-regresión"><strong>Estimación de los coeficientes de regresión</strong></h3>
<p>La estimación de los coeficientes de regresión se refiere al proceso de calcular los valores de los coeficientes en una ecuación de regresión lineal, que se utilizan para predecir el valor de la variable dependiente a partir de una o más variables independientes. En la regresión lineal, los coeficientes se refieren a las pendientes de las líneas que se ajustan a los datos.</p>
<p>Para estimar los coeficientes de regresión, se utilizan técnicas estadísticas que minimizan la suma de las diferencias entre los valores observados de la variable dependiente y los valores predichos por el modelo de regresión. En otras palabras, se busca un modelo de regresión que se ajuste mejor a los datos disponibles.</p>
<p>Hay varios métodos para estimar los coeficientes de regresión. Uno de los más comunes es el método de mínimos cuadrados ordinarios (MCO), que busca minimizar la suma de los cuadrados de las desviaciones entre los valores observados y los valores predichos. Otro método popular es el método de máxima verosimilitud, que busca encontrar los valores de los coeficientes que hacen que los datos observados sean más probables de haber ocurrido.</p>
</section>
<section id="predictores-cualitativos" class="level3">
<h3 class="anchored" data-anchor-id="predictores-cualitativos"><strong>Predictores cualitativos</strong></h3>
<p>Los predictores cualitativos, también conocidos como variables categóricas o variables de clasificación, son variables que no se pueden medir en términos numéricos, sino que se clasifican en categorías o grupos. Estos predictores son comunes en la investigación social y de mercado, y pueden incluir variables como género, etnia, estado civil, nivel de educación, región geográfica, entre otros.</p>
<p>En la regresión lineal, los predictores cualitativos se representan mediante variables ficticias, también conocidas como variables indicadoras o variables binarias. Una variable ficticia es una variable que toma el valor 1 si un individuo pertenece a una categoría específica y 0 si no pertenece a esa categoría. Por ejemplo, si se tiene una variable cualitativa como el género, se pueden crear dos variables ficticias, una para los hombres y otra para las mujeres, donde la variable toma el valor 1 si el individuo es hombre o mujer, y 0 si es del otro género.</p>
</section>
<section id="predictores-cualitativos-con-más-de-dos-niveles" class="level3">
<h3 class="anchored" data-anchor-id="predictores-cualitativos-con-más-de-dos-niveles"><strong>Predictores cualitativos con más de dos niveles</strong></h3>
<p>Los predictores cualitativos con más de dos niveles, también conocidos como variables categóricas con más de dos categorías, son variables que no se pueden medir en términos numéricos y que tienen más de dos categorías o niveles. Estos predictores son comunes en la investigación social y de mercado, y pueden incluir variables como el nivel educativo, la ocupación, la raza o la religión.</p>
<p>En la regresión lineal, los predictores cualitativos con más de dos niveles se representan mediante variables ficticias o indicadoras. Sin embargo, a diferencia de las variables ficticias binarias que se utilizan para los predictores con dos categorías, los predictores con más de dos niveles requieren la creación de múltiples variables ficticias para representar cada nivel de la variable categórica.</p>
</section>
<section id="extensiones-del-modelo-lineal" class="level3">
<h3 class="anchored" data-anchor-id="extensiones-del-modelo-lineal"><strong>Extensiones del Modelo Lineal</strong></h3>
<p>El modelo de regresión lineal estándar proporciona resultados interpretables y funciona bastante bien en muchos problemas del mundo real. Sin embargo, hace varios supuestos altamente restrictivos que a menudo se violan en la práctica. Dos de los supuestos más importantes establecen que la relación entre los predictores y la respuesta es aditiva y lineal. La suposición de aditividad significa que la asociación entre un predictor X y la respuesta Y no depende de los valores de los otros predictores. La suposición de linealidad establece que el cambio en la respuesta Y asociado con un cambio de una unidad en Xj es constante, independientemente del valor de Xj . En capítulos posteriores de este libro, examinamos varios métodos sofisticados que relajan estos dos supuestos. Aquí, examinamos brevemente algunos enfoques clásicos comunes para extender el modelo lineal.</p>
</section>
<section id="relaciones-no-lineales" class="level3">
<h3 class="anchored" data-anchor-id="relaciones-no-lineales"><strong>Relaciones no lineales</strong></h3>
<p>Las relaciones no lineales son aquellas en las que la relación entre dos variables no puede ser representada mediante una línea recta en un gráfico. Esto significa que la tasa de cambio entre las dos variables no es constante, sino que cambia a medida que una variable aumenta o disminuye. En la estadística y el análisis de datos, las relaciones no lineales pueden ser muy comunes y pueden surgir en muchas áreas de investigación. Algunos ejemplos de relaciones no lineales incluyen la relación entre la edad y la capacidad física, la relación entre el consumo de alcohol y el rendimiento académico, y la relación entre la intensidad del entrenamiento y la velocidad de carrera.</p>
<p>Para modelar relaciones no lineales, es necesario utilizar técnicas de modelado no lineal que permitan capturar la forma de la relación entre las variables. Estos modelos no lineales pueden ser más complejos que los modelos lineales y pueden requerir la inclusión de términos no lineales, como cuadráticos o cúbicos, en la función de regresión.</p>
</section>
<section id="no-linealidad-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="no-linealidad-de-los-datos"><strong>No linealidad de los datos</strong></h3>
<p>La no linealidad de los datos se refiere a la situación en la que la relación entre dos o más variables no puede ser descrita por una función lineal, es decir, la relación no es una línea recta en un gráfico. En lugar de eso, la relación puede ser curva, cóncava, convexa, o cualquier otra forma no lineal. La no linealidad de los datos puede ser un desafío para los análisis estadísticos y de modelado, ya que muchos modelos se basan en la suposición de una relación lineal entre las variables. Cuando los datos no son lineales, estos modelos pueden no proporcionar una buena descripción o predicción de los datos. Por lo tanto, es importante identificar la no linealidad de los datos y ajustar el modelo en consecuencia.</p>
<p>Una forma de detectar la no linealidad de los datos es mediante la visualización de los datos en un gráfico. Si la relación entre las variables parece no lineal, se puede utilizar técnicas de modelado no lineal para ajustar un modelo a los datos. Estos modelos pueden incluir términos no lineales, como cuadráticos, cúbicos, logarítmicos, exponenciales, etc.</p>
</section>
<section id="altos-puntos-de-apalancamiento" class="level3">
<h3 class="anchored" data-anchor-id="altos-puntos-de-apalancamiento"><strong>Altos puntos de apalancamiento</strong></h3>
<p>Los altos puntos de apalancamiento se refieren a las observaciones en un conjunto de datos que tienen un valor extremadamente alto o bajo en una o más variables explicativas en comparación con los demás datos. Estos puntos pueden tener un impacto significativo en el ajuste del modelo y en las conclusiones que se extraen de los resultados del modelo.</p>
<p>El apalancamiento se refiere a la capacidad de una observación para influir en la estimación de los coeficientes de regresión. Los puntos de datos que tienen altos valores de apalancamiento son aquellos que se encuentran lejos del centro de la distribución de las variables explicativas, y por lo tanto tienen un mayor efecto sobre la estimación de los coeficientes del modelo.</p>
<p>Los puntos de apalancamiento extremadamente altos pueden tener un impacto negativo en la precisión del modelo, ya que pueden causar que los coeficientes de regresión sean estimados de manera inexacta. Por lo tanto, es importante identificar y tratar estos puntos antes de ajustar un modelo<strong>.</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ISLR2")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'ISLR2'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:MASS':

    Boston</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Boston)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     crim zn indus chas   nox    rm  age    dis rad tax ptratio lstat medv
1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3  4.98 24.0
2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8  9.14 21.6
3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8  4.03 34.7
4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7  2.94 33.4
5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7  5.33 36.2
6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7  5.21 28.7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat, <span class="at">data =</span> Boston)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(Boston)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>lm.fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat)

Coefficients:
(Intercept)        lstat  
      34.55        -0.95  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.168  -3.990  -1.318   2.034  24.500 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 34.55384    0.56263   61.41   &lt;2e-16 ***
lstat       -0.95005    0.03873  -24.53   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.216 on 504 degrees of freedom
Multiple R-squared:  0.5441,    Adjusted R-squared:  0.5432 
F-statistic: 601.6 on 1 and 504 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "coefficients"  "residuals"     "effects"       "rank"         
 [5] "fitted.values" "assign"        "qr"            "df.residual"  
 [9] "xlevels"       "call"          "terms"         "model"        </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       lstat 
 34.5538409  -0.9500494 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                2.5 %     97.5 %
(Intercept) 33.448457 35.6592247
lstat       -1.026148 -0.8739505</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm.fit, <span class="fu">data.frame</span>(<span class="at">lstat =</span> (<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">15</span>))),</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"confidence"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 29.80359 29.00741 30.59978
2 25.05335 24.47413 25.63256
3 20.30310 19.73159 20.87461</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm.fit, <span class="fu">data.frame</span>(<span class="at">lstat =</span> (<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">15</span>))),</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"prediction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit       lwr      upr
1 29.80359 17.565675 42.04151
2 25.05335 12.827626 37.27907
3 20.30310  8.077742 32.52846</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lstat, medv, <span class="at">col =</span> <span class="st">"blue"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(lm.fit, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lstat, medv, <span class="at">col=</span><span class="st">"deepskyblue3"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span> (lm.fit, <span class="at">lwd =</span> <span class="dv">3</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span> (lm.fit, <span class="at">lwd =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">"darkmagenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (lstat , medv , <span class="at">col =</span> <span class="st">"blueviolet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (lstat , medv , <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col=</span><span class="st">"gold"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (lstat , medv , <span class="at">pch =</span> <span class="st">"+"</span>, <span class="at">col=</span><span class="st">"deeppink"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-11-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">pch =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">col=</span><span class="st">"darkgreen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-11-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm.fit, <span class="at">col=</span><span class="st">"deepskyblue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">predict</span>(lm.fit), <span class="fu">residuals</span>(lm.fit), <span class="at">col=</span> <span class="st">"darkorchid1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">predict</span>(lm.fit), <span class="fu">rstudent</span>(lm.fit), <span class="at">col=</span><span class="st">"gold2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">hatvalues</span>(lm.fit), <span class="at">col=</span><span class="st">"darkorange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(<span class="fu">hatvalues</span>(lm.fit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>375 
375 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">+</span> age, <span class="at">data =</span> Boston)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat + age, data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.981  -3.978  -1.283   1.968  23.158 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 33.22276    0.73085  45.458  &lt; 2e-16 ***
lstat       -1.03207    0.04819 -21.416  &lt; 2e-16 ***
age          0.03454    0.01223   2.826  0.00491 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.173 on 503 degrees of freedom
Multiple R-squared:  0.5513,    Adjusted R-squared:  0.5495 
F-statistic:   309 on 2 and 503 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> ., <span class="at">data =</span> Boston)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span> (lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ ., data = Boston)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1304  -2.7673  -0.5814   1.9414  26.2526 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  41.617270   4.936039   8.431 3.79e-16 ***
crim         -0.121389   0.033000  -3.678 0.000261 ***
zn            0.046963   0.013879   3.384 0.000772 ***
indus         0.013468   0.062145   0.217 0.828520    
chas          2.839993   0.870007   3.264 0.001173 ** 
nox         -18.758022   3.851355  -4.870 1.50e-06 ***
rm            3.658119   0.420246   8.705  &lt; 2e-16 ***
age           0.003611   0.013329   0.271 0.786595    
dis          -1.490754   0.201623  -7.394 6.17e-13 ***
rad           0.289405   0.066908   4.325 1.84e-05 ***
tax          -0.012682   0.003801  -3.337 0.000912 ***
ptratio      -0.937533   0.132206  -7.091 4.63e-12 ***
lstat        -0.552019   0.050659 -10.897  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.798 on 493 degrees of freedom
Multiple R-squared:  0.7343,    Adjusted R-squared:  0.7278 
F-statistic: 113.5 on 12 and 493 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(faraway)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'faraway'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:car':

    logit, vif</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vif</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    crim       zn    indus     chas      nox       rm      age      dis 
1.767486 2.298459 3.987181 1.071168 4.369093 1.912532 3.088232 3.954037 
     rad      tax  ptratio    lstat 
7.445301 9.002158 1.797060 2.870777 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>lm.fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> . <span class="sc">-</span> age, <span class="at">data =</span> Boston)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ . - age, data = Boston)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1851  -2.7330  -0.6116   1.8555  26.3838 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  41.525128   4.919684   8.441 3.52e-16 ***
crim         -0.121426   0.032969  -3.683 0.000256 ***
zn            0.046512   0.013766   3.379 0.000785 ***
indus         0.013451   0.062086   0.217 0.828577    
chas          2.852773   0.867912   3.287 0.001085 ** 
nox         -18.485070   3.713714  -4.978 8.91e-07 ***
rm            3.681070   0.411230   8.951  &lt; 2e-16 ***
dis          -1.506777   0.192570  -7.825 3.12e-14 ***
rad           0.287940   0.066627   4.322 1.87e-05 ***
tax          -0.012653   0.003796  -3.333 0.000923 ***
ptratio      -0.934649   0.131653  -7.099 4.39e-12 ***
lstat        -0.547409   0.047669 -11.483  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.794 on 494 degrees of freedom
Multiple R-squared:  0.7343,    Adjusted R-squared:  0.7284 
F-statistic: 124.1 on 11 and 494 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>lm.fit1 <span class="ot">&lt;-</span> <span class="fu">update</span>(lm.fit, <span class="sc">~</span> . <span class="sc">-</span> age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">*</span> age, <span class="at">data=</span>Boston ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat * age, data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.806  -4.045  -1.333   2.085  27.552 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 36.0885359  1.4698355  24.553  &lt; 2e-16 ***
lstat       -1.3921168  0.1674555  -8.313 8.78e-16 ***
age         -0.0007209  0.0198792  -0.036   0.9711    
lstat:age    0.0041560  0.0018518   2.244   0.0252 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.149 on 502 degrees of freedom
Multiple R-squared:  0.5557,    Adjusted R-squared:  0.5531 
F-statistic: 209.3 on 3 and 502 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>lm.fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">+</span> <span class="fu">I</span>(lstat<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat + I(lstat^2))

Residuals:
     Min       1Q   Median       3Q      Max 
-15.2834  -3.8313  -0.5295   2.3095  25.4148 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 42.862007   0.872084   49.15   &lt;2e-16 ***
lstat       -2.332821   0.123803  -18.84   &lt;2e-16 ***
I(lstat^2)   0.043547   0.003745   11.63   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 5.524 on 503 degrees of freedom
Multiple R-squared:  0.6407,    Adjusted R-squared:  0.6393 
F-statistic: 448.5 on 2 and 503 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(lm.fit, lm.fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: medv ~ lstat
Model 2: medv ~ lstat + I(lstat^2)
  Res.Df   RSS Df Sum of Sq     F    Pr(&gt;F)    
1    504 19472                                 
2    503 15347  1    4125.1 135.2 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm.fit2, <span class="at">col=</span><span class="st">"darkolivegreen1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Resumen_2_Andrade_Morocho_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>lm.fit5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> <span class="fu">poly</span>(lstat,<span class="dv">5</span>))</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ poly(lstat, 5))

Residuals:
     Min       1Q   Median       3Q      Max 
-13.5433  -3.1039  -0.7052   2.0844  27.1153 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       22.5328     0.2318  97.197  &lt; 2e-16 ***
poly(lstat, 5)1 -152.4595     5.2148 -29.236  &lt; 2e-16 ***
poly(lstat, 5)2   64.2272     5.2148  12.316  &lt; 2e-16 ***
poly(lstat, 5)3  -27.0511     5.2148  -5.187 3.10e-07 ***
poly(lstat, 5)4   25.4517     5.2148   4.881 1.42e-06 ***
poly(lstat, 5)5  -19.2524     5.2148  -3.692 0.000247 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 5.215 on 500 degrees of freedom
Multiple R-squared:  0.6817,    Adjusted R-squared:  0.6785 
F-statistic: 214.2 on 5 and 500 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(medv <span class="sc">~</span> <span class="fu">log</span>(rm), <span class="at">data =</span> Boston))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ log(rm), data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.487  -2.875  -0.104   2.837  39.816 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -76.488      5.028  -15.21   &lt;2e-16 ***
log(rm)       54.055      2.739   19.73   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.915 on 504 degrees of freedom
Multiple R-squared:  0.4358,    Adjusted R-squared:  0.4347 
F-statistic: 389.3 on 1 and 504 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ISLR2")</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(carData)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Carseats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sales CompPrice Income Advertising Population Price ShelveLoc Age Education
1  9.50       138     73          11        276   120       Bad  42        17
2 11.22       111     48          16        260    83      Good  65        10
3 10.06       113     35          10        269    80    Medium  59        12
4  7.40       117    100           4        466    97    Medium  55        14
5  4.15       141     64           3        340   128       Bad  38        13
6 10.81       124    113          13        501    72       Bad  78        16
  Urban  US
1   Yes Yes
2   Yes Yes
3   Yes Yes
4   Yes Yes
5   Yes  No
6    No Yes</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Sales <span class="sc">~</span> . <span class="sc">+</span> Income<span class="sc">:</span> Advertising <span class="sc">+</span> Price<span class="sc">:</span> Age,</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> Carseats)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Sales ~ . + Income:Advertising + Price:Age, data = Carseats)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.9208 -0.7503  0.0177  0.6754  3.3413 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         6.5755654  1.0087470   6.519 2.22e-10 ***
CompPrice           0.0929371  0.0041183  22.567  &lt; 2e-16 ***
Income              0.0108940  0.0026044   4.183 3.57e-05 ***
Advertising         0.0702462  0.0226091   3.107 0.002030 ** 
Population          0.0001592  0.0003679   0.433 0.665330    
Price              -0.1008064  0.0074399 -13.549  &lt; 2e-16 ***
ShelveLocGood       4.8486762  0.1528378  31.724  &lt; 2e-16 ***
ShelveLocMedium     1.9532620  0.1257682  15.531  &lt; 2e-16 ***
Age                -0.0579466  0.0159506  -3.633 0.000318 ***
Education          -0.0208525  0.0196131  -1.063 0.288361    
UrbanYes            0.1401597  0.1124019   1.247 0.213171    
USYes              -0.1575571  0.1489234  -1.058 0.290729    
Income:Advertising  0.0007510  0.0002784   2.698 0.007290 ** 
Price:Age           0.0001068  0.0001333   0.801 0.423812    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.011 on 386 degrees of freedom
Multiple R-squared:  0.8761,    Adjusted R-squared:  0.8719 
F-statistic:   210 on 13 and 386 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(Carseats)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrasts</span>(ShelveLoc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Good Medium
Bad       0      0
Good      1      0
Medium    0      1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>LoadLibraries <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ISLR2)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(MASS)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"The libraries have been loaded."</span>)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">LoadLibraries</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "The libraries have been loaded."</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>